<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Canvas Interactive Builder</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="app-header">
        <div class="brand">
          <div class="brand-mark" aria-hidden="true">CI</div>
          <div class="brand-copy">
            <h1>Canvas Interactive Builder</h1>
            <p class="brand-tagline">Design accessible activities and embed them in Canvas with confidence.</p>
          </div>
        </div>
        <div class="header-actions" id="headerActions">
          <button class="secondary" id="loadButton" type="button">
            <span class="button-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 4v10"></path>
                <path d="M8.5 11.5L12 15l3.5-3.5"></path>
                <path d="M5 19h14"></path>
              </svg>
            </span>
            <span class="button-label">Load Activity</span>
          </button>
          <button class="secondary" id="newButton" type="button">
            <span class="button-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 5v14"></path>
                <path d="M5 12h14"></path>
              </svg>
            </span>
            <span class="button-label">New Activity</span>
          </button>
          <button class="primary" id="saveButton" type="button">
            <span class="button-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M6 5h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z"></path>
                <path d="M9 5v4h6V5"></path>
                <circle cx="12" cy="14" r="2.5"></circle>
              </svg>
            </span>
            <span class="button-label">Save Activity</span>
          </button>
          <button class="secondary" id="embedButton" type="button">
            <span class="button-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 8l-4 4 4 4"></path>
                <path d="M15 8l4 4-4 4"></path>
                <path d="M13.5 7l-3 10"></path>
              </svg>
            </span>
            <span class="button-label">Embed Code</span>
          </button>
        </div>
      </header>

      <main class="app-layout" id="builderLayout" aria-live="polite">
        <aside class="control-panel" aria-label="Activity settings">
          <header class="panel-header">
            <p class="panel-eyebrow">Authoring</p>
            <h2>Activity setup</h2>
            <p class="panel-description">Configure the essentials for your interactive experience.</p>
          </header>
          <section class="panel-section">
            <label for="activityTitle">Activity title</label>
            <input id="activityTitle" name="activityTitle" type="text" placeholder="e.g. Photosynthesis hotspots" />
          </section>
          <section class="panel-section">
            <label for="activityType">Activity type</label>
            <select id="activityType" name="activityType">
              <option value="flipcards">Flipcards</option>
              <option value="accordion">Accordion</option>
              <option value="dragdrop">Drag &amp; Drop</option>
              <option value="hotspots">Hotspots</option>
              <option value="imageSort">Image Sorting</option>
              <option value="wordSort">Word Sorting</option>
              <option value="timeline">Timeline</option>
            </select>
          </section>
          <section class="panel-section">
            <label for="instructions">Instructions</label>
            <textarea id="instructions" name="instructions" rows="4" placeholder="Provide learners with clear instructions"></textarea>
          </section>
          <section class="panel-section" id="assistiveTips">
            <h2>Accessibility tips</h2>
            <ul>
              <li>Use concise, descriptive titles.</li>
              <li>Provide clear alt text for images.</li>
              <li>Keep keyboard navigation in mind when designing activities.</li>
            </ul>
          </section>
        </aside>
        <section class="preview-panel" aria-label="Interactive preview">
          <header class="preview-toolbar">
            <div class="preview-heading">
              <p class="panel-eyebrow">Live preview</p>
              <h2 id="previewTitle">Preview</h2>
            </div>
            <div class="preview-toolbar-actions" id="previewToolbar"></div>
          </header>
          <div class="preview-stack">
            <div id="instructionsPreview" class="instructions-preview" role="status"></div>
            <div id="previewCanvas" class="preview-canvas"></div>
          </div>
        </section>
      </main>
    </div>

    <section id="embedLayout" hidden>
      <div class="embed-wrapper">
        <h2 id="embedActivityTitle"></h2>
        <p id="embedInstructions" class="embed-instructions"></p>
        <div id="embedCanvas" class="preview-canvas"></div>
      </div>
    </section>

    <dialog id="loadDialog" aria-labelledby="loadDialogTitle">
      <form method="dialog" class="dialog-content">
        <h2 id="loadDialogTitle">Load saved activity</h2>
        <p>Enter the activity code shared with you to continue editing.</p>
        <label for="loadId">Activity code</label>
        <input id="loadId" name="loadId" type="text" required />
        <menu class="dialog-actions">
          <button value="cancel" type="reset">Cancel</button>
          <button value="confirm" type="submit">Load</button>
        </menu>
      </form>
    </dialog>

    <dialog id="embedDialog" aria-labelledby="embedDialogTitle">
      <form method="dialog" class="dialog-content">
        <h2 id="embedDialogTitle">Embed on Canvas</h2>
        <p>Your learners can access this activity using the embed code below.</p>
        <textarea id="embedCode" readonly rows="5"></textarea>
        <div class="dialog-footnote" id="embedDetails"></div>
        <menu class="dialog-actions">
          <button value="cancel" type="reset">Close</button>
          <button id="copyEmbed" type="button">Copy code</button>
        </menu>
      </form>
    </dialog>

    <template id="toastTemplate">
      <div class="toast" role="status"></div>
    </template>

    <div class="sr-only" id="srStatus" role="status" aria-live="polite"></div>

    <script type="module" src="scripts/app.js"></script>
  </body>
</html>
